function init(){getTrends();getStacks()}window.chartColors={rec:"#cc0",rfe:"#f8d",rrr:"#eca",dnm:"#09f",oth:"#8ce",app:"#0b0",trf:"#b84",wtd:"#c64"};Chart.defaults.global.defaultFontColor="#fff";
window.getopts18=function(b){return{type:"bar",data:b,options:{title:{display:!1},tooltips:{mode:"index",intersect:!1},responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{barThickness:4,ticks:{autoSkip:!0,maxTicksLimit:22},gridLines:{display:!1},stacked:!0}],yAxes:[{gridLines:{display:!0,color:"#bbb"},ticks:{max:1E3,beginAtZero:!0},stacked:!0}]}}}};
function getTrends(){$.getJSON("/api/data/vcases18/test?a=trends",function(b){for(var e=document.getElementById("trends_eac").getContext("2d"),k=[],a=0;a<b.length;a++)k.push(b[a].dt.substring(5));for(var f=[],a=0;a<b.length;a++)f.push(b[a].erec);for(var g=[],a=0;a<b.length;a++)g.push(b[a].eapp);for(var h=[],a=0;a<b.length;a++)h.push(b[a].erfe);for(var c=[],a=0;a<b.length;a++)c.push(b[a].errr);for(var d=[],a=0;a<b.length;a++)d.push(b[a].ednm);new Chart(e,{type:"line",data:{labels:k,datasets:[{borderColor:window.chartColors.rec,
label:"REC",data:f},{borderColor:window.chartColors.rfe,label:"RFE",data:h},{borderColor:window.chartColors.app,label:"APP",data:g},{borderColor:window.chartColors.rrr,label:"RESP",data:c},{borderColor:window.chartColors.dnm,label:"DNM",data:d}]},options:{title:{display:!1},tooltips:{mode:"index",intersect:!1},responsive:!0,elements:{point:{radius:0}},maintainAspectRatio:!1,scales:{xAxes:[{ticks:{autoSkip:!0,maxTicksLimit:22},gridLines:{display:!1}}],yAxes:[{gridLines:{display:!0,color:"#bbb"},ticks:{beginAtZero:!0,
max:5E4}}]}}});e=document.getElementById("trends_wac").getContext("2d");f=[];for(a=0;a<b.length;a++)f.push(b[a].wrec);g=[];for(a=0;a<b.length;a++)g.push(b[a].wapp);h=[];for(a=0;a<b.length;a++)h.push(b[a].wrfe);c=[];for(a=0;a<b.length;a++)c.push(b[a].wrrr);d=[];for(a=0;a<b.length;a++)d.push(b[a].wdnm);new Chart(e,{type:"line",data:{labels:k,datasets:[{borderColor:window.chartColors.rec,label:"REC",data:f},{borderColor:window.chartColors.rfe,label:"RFE",data:h},{borderColor:window.chartColors.app,label:"APP",
data:g},{borderColor:window.chartColors.rrr,label:"RESP",data:c},{borderColor:window.chartColors.dnm,label:"DNM",data:d}]},options:{title:{display:!1},tooltips:{mode:"index",intersect:!1},responsive:!0,elements:{point:{radius:0}},maintainAspectRatio:!1,scales:{xAxes:[{ticks:{autoSkip:!0,maxTicksLimit:22},gridLines:{display:!1}}],yAxes:[{gridLines:{display:!0,color:"#bbb"},ticks:{beginAtZero:!0,max:5E4}}]}}})})}stacksloaded=!1;
function getStacks(){$.getJSON("/api/data/vcases18/stackedcols?pre=EAC",function(b){stacksloaded=!0;for(var e=[],k=[],a=[],f=[],g=[],h=[],c=[],d=0;d<b.length;d++)e.push(b[d].id.substring(5,8)+"-"+b[d].id.substring(8,10)),k.push(b[d].rec),a.push(b[d].rfe),h.push(b[d].rrr),c.push(b[d].dnm),f.push(b[d].trf),g.push(b[d].app);b={labels:e,backgroundColor:"rgba(185, 214, 200, 0.75)",borderColor:"rgba(255, 255, 255, 0.5)",datasets:[{backgroundColor:window.chartColors.rec,label:"REC",data:k},{backgroundColor:window.chartColors.trf,
label:"TRF",data:f},{backgroundColor:window.chartColors.rfe,label:"RFE",data:a},{backgroundColor:window.chartColors.rrr,label:"RESP",data:h},{backgroundColor:window.chartColors.dnm,label:"DNM",data:c},{backgroundColor:window.chartColors.app,label:"APP",data:g}]};e=document.getElementById("canvas_eac").getContext("2d");window.myBar=new Chart(e,window.getopts18(b))});$.getJSON("/api/data/vcases18/stackedcols?pre=WAC",function(b){for(var e=[],k=[],a=[],f=[],g=[],h=[],c=0;c<b.length;c++)e.push(b[c].id.substring(5,
8)+"-"+b[c].id.substring(8,10)),k.push(b[c].rec),a.push(b[c].rfe),g.push(b[c].rrr),h.push(b[c].dnm),f.push(b[c].app);b={labels:e,backgroundColor:"rgba(185, 214, 200, 0.75)",borderColor:"rgba(255, 255, 255, 0.5)",datasets:[{backgroundColor:window.chartColors.rec,label:"REC",data:k},{backgroundColor:window.chartColors.rfe,label:"RFE",data:a},{backgroundColor:window.chartColors.rrr,label:"RESP",data:g},{backgroundColor:window.chartColors.dnm,label:"DNM",data:h},{backgroundColor:window.chartColors.app,
label:"APP",data:f}]};e=document.getElementById("canvas_wac").getContext("2d");window.myBar=new Chart(e,window.getopts18(b))})};
