var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,e,f){if(f.get||f.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[e]=f.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,e,f,d){if(e){f=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var b=a[d];b in f||(f[b]={});f=f[b]}a=a[a.length-1];d=f[a];e=e(d);e!=d&&null!=e&&$jscomp.defineProperty(f,a,{configurable:!0,writable:!0,value:e})}};$jscomp.polyfill("Array.prototype.fill",function(a){return a?a:function(a,f,d){var b=this.length||0;0>f&&(f=Math.max(0,b+f));if(null==d||d>b)d=b;d=Number(d);0>d&&(d=Math.max(0,b+d));for(f=Number(f||0);f<d;f++)this[f]=a;return this}},"es6-impl","es3");
$jscomp.checkStringArgs=function(a,e,f){if(null==a)throw new TypeError("The 'this' value for String.prototype."+f+" must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+f+" must not be a regular expression");return a+""};
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(a,f){var d=$jscomp.checkStringArgs(this,a,"startsWith");a+="";for(var b=d.length,e=a.length,l=Math.max(0,Math.min(f|0,d.length)),h=0;h<e&&l<b;)if(d[l++]!=a[h++])return!1;return h>=e}},"es6-impl","es3");
$jscomp.polyfill("String.prototype.endsWith",function(a){return a?a:function(a,f){var d=$jscomp.checkStringArgs(this,a,"endsWith");a+="";void 0===f&&(f=d.length);for(var b=Math.max(0,Math.min(f|0,d.length)),e=a.length;0<e&&0<b;)if(d[--b]!=a[--e])return!1;return 0>=e}},"es6-impl","es3");msloaded=!0;changes={};mseries=[];mstats={};mstot={};cfdtstat=[];mpage=1;eacmstot={};wacmstot={};wacmstatstot=eacmstatstot=0;var eac2=[],wac2=[];eaccfdtstat=[];waccfdtstat=[];sdetail=[];seriesrow=null;
function init(){loadmseries();contribs();getTrends();getStacks()}function contribs(){$.getJSON("/api/data/vcases18/test?a=getadmins",function(a){for(var e=document.getElementById("contribtd"),f=0;f<a.length;f++){var d=a[f];e.insertAdjacentHTML("beforeend",'<div class="cbadge">'+d.name+' <span style="color: blue"> '+d.count+"</span></div>")}})}var eacstart=150,wacstart=150,seriesrange=50;
function loadmseries(){if(msloaded){eacmstot={rec:0,wtd:0,rfe:0,rrr:0,app:0,dnm:0,chg:0};wacmstot={rec:0,wtd:0,rfe:0,rrr:0,app:0,dnm:0,chg:0};for(var a=0;a<seriesrange;a++)eac2[a]=Array(6).fill(0);for(a=0;a<seriesrange;a++)wac2[a]=Array(6).fill(0);msloaded=!1;$("#infoToggler").attr("src","tracker/img/refresh.gif");$.getJSON("/api/data/vcases18/test?a=mseries",function(a){mstats=a;a=null;var e=!0;eaccfdtstat=[0,0,0,0,0,0,0];waccfdtstat=[0,0,0,0,0,0,0];for(var d=wacmstatstot=eacmstatstot=0;d<mstats.length;d++){var b=
mstats[d];b.id.startsWith("EAC")?eacmstatstot++:wacmstatstot++;var g=parseInt(b.id.substring(5,8)),l=parseInt(b.id.substring(8,10));"E"==b.id.charAt(0)?eac2[g-eacstart][l-50]=1:wac2[g-wacstart][l-50]=1;null==a&&(a=b.chgdt.substring(0,10));a==b.chgdt.substring(0,10)?mstats[d].cdt=!1:(e=!1,mstats[d].cdt=!0,a=b.chgdt.substring(0,10));changes[b.id]=b.chgs;mseries.push(b.id);g=b.id.startsWith("EAC")?eacmstot:wacmstot;g.rec+=b.rec;g.wtd+=b.wtd;g.rfe+=b.rfe;g.rrr+=b.rrr;g.app+=b.app;g.dnm+=b.dnm;g.chg+=
""==b.chgs?0:b.chgs.split(",").length;b.eactchgs={crfe:0,cresp:0,cdnm:0,app1:0,app2:0};b.wactchgs={crfe:0,cresp:0,cdnm:0,app1:0,app2:0};g=b.id.startsWith("EAC")?b.eactchgs:b.wactchgs;if(null!=b.chgst){for(var l=b.chgst.split(","),h=0;h<l.length;h++)l[h].endsWith("7")?g.cresp++:l[h].endsWith("8")?g.cdnm++:l[h].endsWith("3")?g.crfe++:"71"==l[h]?g.app2++:l[h].endsWith("1")&&g.app1++;b.tchgs=g;b.id.startsWith("EAC");e&&(eaccfdtstat[0]+=""==b.chgs||b.id.startsWith("WAC")?0:b.chgs.split(",").length,eaccfdtstat[1]+=
b.eactchgs.crfe,eaccfdtstat[2]+=b.eactchgs.cresp,eaccfdtstat[3]+=b.eactchgs.cdnm,eaccfdtstat[4]+=b.eactchgs.app1,eaccfdtstat[5]+=b.eactchgs.app2,waccfdtstat[0]+=""==b.chgs||b.id.startsWith("EAC")?0:b.chgs.split(",").length,waccfdtstat[1]+=b.wactchgs.crfe,waccfdtstat[2]+=b.wactchgs.cresp,waccfdtstat[3]+=b.wactchgs.cdnm,waccfdtstat[4]+=b.wactchgs.app1,waccfdtstat[5]+=b.wactchgs.app2)}}msloaded=!0;$("#infoToggler").attr("src","tracker/img/refresh.png");a=document.getElementById("eactotals");a.innerHTML=
" <td rowspan=2>Totals</td> <td>EAC "+eacmstatstot+"</td> <td>"+eacmstot.rec+"</td> <td>"+eacmstot.wtd+"</td> <td>"+eacmstot.rfe+"</td> <td>"+eacmstot.rrr+"</td> <td>"+eacmstot.app+'</td> <td style="border-right: 1px solid #aaa;">'+eacmstot.dnm+'</td> <td rowspan=2 align="center">&gt;&gt;</td> <td style="background-color: #fe8">'+eaccfdtstat[0]+'</td> <td style="background-color: #fe8">'+eaccfdtstat[1]+'</td> <td style="background-color: #fe8">'+eaccfdtstat[2]+'</td> <td style="background-color: #fe8">'+
eaccfdtstat[3]+'</td> <td style="background-color: #fe8">'+eaccfdtstat[4]+'</td> <td style="background-color: #fe8">'+eaccfdtstat[5]+"</td> <td>&nbsp;</td> ";a=document.getElementById("wactotals");a.innerHTML=" <td>WAC"+wacmstatstot+"</td> <td>"+wacmstot.rec+"</td> <td>"+wacmstot.wtd+"</td> <td>"+wacmstot.rfe+"</td> <td>"+wacmstot.rrr+"</td> <td>"+wacmstot.app+'</td> <td style="border-right: 1px solid #aaa;">'+wacmstot.dnm+'</td> <td style="background-color: #fe8">'+waccfdtstat[0]+'</td> <td style="background-color: #fe8">'+
waccfdtstat[1]+'</td> <td style="background-color: #fe8">'+waccfdtstat[2]+'</td> <td style="background-color: #fe8">'+waccfdtstat[3]+'</td> <td style="background-color: #fe8">'+waccfdtstat[4]+'</td> <td style="background-color: #fe8">'+waccfdtstat[5]+"</td> <td>&nbsp;</td> ";updatesfeed(0);caselist();vcaseid||(vcaseid=mseries[Math.floor(Math.random()*mseries.length)],getvcase(vcaseid,"latest",null,!1))})}}
function updatesfeed(a){mpage+=a;1<mpage?$("#uPrev").show():$("#uPrev").hide();6>mpage?$("#uNext").show():$("#uNext").hide();$("#pagenum").text("Page "+mpage);mtbl=document.getElementById("mtbl");mtbl.getElementsByTagName("tr");a=mtbl.rows.length;for(var e=3;e<a;e++)mtbl.deleteRow(-1);for(a=30*(mpage-1);a<(mstats.length>30*mpage?30*mpage:mstats.length);a++){var e=mstats[a],f=mtbl.insertRow();f.style.backgroundColor=e.chguser.startsWith("*")?"#aff":"";f.style.borderTop=e.cdt?"3px solid #e84":"";f.innerHTML=
"<td> "+e.chguser+'</td> <td><span style="color: #66c;"> '+e.id+'</span></td> <td style="color: #880"> '+e.rec+'</td> <td style="color: #880"> '+e.wtd+'</td> <td style="color: #606"> '+e.rfe+'</td> <td style="color: #840"> '+e.rrr+'</td> <td style="color: #080"> '+e.app+'</td> <td style="border-right: 1px solid #aaa;"> '+e.dnm+"</td> <td> "+Math.round(e.nhours/24)+'</td> <td style="color: #00f"> '+(e.chgs?e.chgs.split(",").length:0)+'</td> <td style="color: #00f"> '+(e.tchgs?e.tchgs.crfe:0)+'</td> <td style="color: #00f"> '+
(e.tchgs?e.tchgs.cresp:0)+'</td> <td style="color: #00f"> '+(e.tchgs?e.tchgs.cdnm:0)+'</td> <td style="color: #00f"> '+(e.tchgs?e.tchgs.app1:0)+'</td> <td style="color: #00f"> '+(e.tchgs?e.tchgs.app2:0)+'</td> <td title =" '+e.chgdt+' GMT"> '+timeago(e.chgdt)+"</td> "}}
function timeago(a){if(void 0==a)return"";var e=a.split(" ");a=e[0].split("-");e=e[1].split(":");a=new Date(parseInt(a[0]),parseInt(a[1])-1,parseInt(a[2]),parseInt(e[0]),parseInt(e[1]),parseInt(e[2]));a.setTime(a.getTime()-6E4*a.getTimezoneOffset());a=Math.floor((new Date-a)/1E3);return 31536E3<=a?(a=Math.floor(a/31536E3),a+(1<a?" years":"year")):2592E3<=a?(a=Math.floor(a/2592E3),a+(1<a?" months":" month")):86400<=a?(a=Math.floor(a/86400),a+(1<a?" days":" day")):3600<=a?(a=Math.floor(a/3600),a+(1<
a?" hrs":" hr")):60<=a?(a=Math.floor(a/60),a+" min"):a+" sec"}window.chartColors={rec:"#cc0",rfe:"#f8d",rrr:"#eca",dnm:"#09f",oth:"#8ce",app:"#0b0",trf:"#b84",wtd:"#c64"};Chart.defaults.global.defaultFontColor="#fff";
window.getopts18=function(a){return{type:"bar",data:a,options:{title:{display:!1},tooltips:{mode:"index",intersect:!1},responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{barThickness:4,ticks:{autoSkip:!0,maxTicksLimit:22},gridLines:{display:!1},stacked:!0}],yAxes:[{gridLines:{display:!0,color:"#bbb"},ticks:{max:1E3,beginAtZero:!0},stacked:!0}]}}}};
function getTrends(){$.getJSON("/api/data/vcases18/test?a=trends",function(a){for(var e=document.getElementById("trends_eac").getContext("2d"),f=[],d=0;d<a.length;d++)f.push(a[d].dt.substring(5));for(var b=[],d=0;d<a.length;d++)b.push(a[d].erec);for(var g=[],d=0;d<a.length;d++)g.push(a[d].eapp);for(var l=[],d=0;d<a.length;d++)l.push(a[d].erfe);for(var h=[],d=0;d<a.length;d++)h.push(a[d].errr);for(var m=[],d=0;d<a.length;d++)m.push(a[d].ednm);new Chart(e,{type:"line",data:{labels:f,datasets:[{borderColor:window.chartColors.rec,
label:"REC",data:b},{borderColor:window.chartColors.rfe,label:"RFE",data:l},{borderColor:window.chartColors.app,label:"APP",data:g},{borderColor:window.chartColors.rrr,label:"RESP",data:h},{borderColor:window.chartColors.dnm,label:"DNM",data:m}]},options:{title:{display:!1},tooltips:{mode:"index",intersect:!1},responsive:!0,elements:{point:{radius:0}},maintainAspectRatio:!1,scales:{xAxes:[{ticks:{autoSkip:!0,maxTicksLimit:22},gridLines:{display:!1}}],yAxes:[{gridLines:{display:!0,color:"#bbb"},ticks:{beginAtZero:!0,
max:5E4}}]}}});e=document.getElementById("trends_wac").getContext("2d");b=[];for(d=0;d<a.length;d++)b.push(a[d].wrec);g=[];for(d=0;d<a.length;d++)g.push(a[d].wapp);l=[];for(d=0;d<a.length;d++)l.push(a[d].wrfe);h=[];for(d=0;d<a.length;d++)h.push(a[d].wrrr);m=[];for(d=0;d<a.length;d++)m.push(a[d].wdnm);new Chart(e,{type:"line",data:{labels:f,datasets:[{borderColor:window.chartColors.rec,label:"REC",data:b},{borderColor:window.chartColors.rfe,label:"RFE",data:l},{borderColor:window.chartColors.app,label:"APP",
data:g},{borderColor:window.chartColors.rrr,label:"RESP",data:h},{borderColor:window.chartColors.dnm,label:"DNM",data:m}]},options:{title:{display:!1},tooltips:{mode:"index",intersect:!1},responsive:!0,elements:{point:{radius:0}},maintainAspectRatio:!1,scales:{xAxes:[{ticks:{autoSkip:!0,maxTicksLimit:22},gridLines:{display:!1}}],yAxes:[{gridLines:{display:!0,color:"#bbb"},ticks:{beginAtZero:!0,max:5E4}}]}}})})}stacksloaded=!1;
function getStacks(){$.getJSON("/api/data/vcases18/stackedcols?pre=EAC",function(a){stacksloaded=!0;for(var e=[],f=[],d=[],b=[],g=[],l=[],h=[],m=0;m<a.length;m++)e.push(a[m].id.substring(5,8)+"-"+a[m].id.substring(8,10)),f.push(a[m].rec),d.push(a[m].rfe),l.push(a[m].rrr),h.push(a[m].dnm),b.push(a[m].trf),g.push(a[m].app);a={labels:e,backgroundColor:"rgba(185, 214, 200, 0.75)",borderColor:"rgba(255, 255, 255, 0.5)",datasets:[{backgroundColor:window.chartColors.rec,label:"REC",data:f},{backgroundColor:window.chartColors.trf,
label:"TRF",data:b},{backgroundColor:window.chartColors.rfe,label:"RFE",data:d},{backgroundColor:window.chartColors.rrr,label:"RESP",data:l},{backgroundColor:window.chartColors.dnm,label:"DNM",data:h},{backgroundColor:window.chartColors.app,label:"APP",data:g}]};e=document.getElementById("canvas_eac").getContext("2d");window.myBar=new Chart(e,window.getopts18(a))});$.getJSON("/api/data/vcases18/stackedcols?pre=WAC",function(a){for(var e=[],f=[],d=[],b=[],g=[],l=[],h=0;h<a.length;h++)e.push(a[h].id.substring(5,
8)+"-"+a[h].id.substring(8,10)),f.push(a[h].rec),d.push(a[h].rfe),g.push(a[h].rrr),l.push(a[h].dnm),b.push(a[h].app);a={labels:e,backgroundColor:"rgba(185, 214, 200, 0.75)",borderColor:"rgba(255, 255, 255, 0.5)",datasets:[{backgroundColor:window.chartColors.rec,label:"REC",data:f},{backgroundColor:window.chartColors.rfe,label:"RFE",data:d},{backgroundColor:window.chartColors.rrr,label:"RESP",data:g},{backgroundColor:window.chartColors.dnm,label:"DNM",data:l},{backgroundColor:window.chartColors.app,
label:"APP",data:b}]};e=document.getElementById("canvas_wac").getContext("2d");window.myBar=new Chart(e,window.getopts18(a))})}msloaded=!0;changes={};mseries=[];mstats={};mstot={};cfdtstat=[];mpage=1;eacmstot={};wacmstot={};wacmstatstot=eacmstatstot=0;eac2=[];wac2=[];eaccfdtstat=[];waccfdtstat=[];sdetail=[];vcaseid=seriesrow=null;Chart.defaults.global.defaultFontColor="#fff";
function getMsbg(a){a=mseries.indexOf(a);if(-1==a)return"#fff";a=mstats[a];if(a.chguser.startsWith("*"))return"#ccffff";if(0==a.rec+a.rfe+a.app+a.rrr)return"#e8e8e8";switch(getAgeDays(a.chgdt)){case 0:return"#bbf8bb";case 1:return"#f6faaa";case 2:return"#ffddaa";case 3:return"#ffc8e0"}return"#dce4ff"}
function getAgeDays(a){a=a.split(" ")[0].split("-");a=new Date(parseInt(a[0]),parseInt(a[1])-1,parseInt(a[2]),0,0,0);a.setTime(a.getTime()-6E4*a.getTimezoneOffset());return Math.floor(Math.floor((new Date-a)/1E3)/86400)}wacstart=eacstart=150;seriesrange=50;
function loadmseries_cases(){if(msloaded){eacmstot={rec:0,wtd:0,rfe:0,rrr:0,app:0,dnm:0,chg:0};wacmstot={rec:0,wtd:0,rfe:0,rrr:0,app:0,dnm:0,chg:0};for(var a=0;a<seriesrange;a++)eac2[a]=Array(6).fill(0);for(a=0;a<seriesrange;a++)wac2[a]=Array(6).fill(0);msloaded=!1;$("#infoToggler").attr("src","tracker/img/refresh.gif");$.getJSON("/api/data/vcases18/test?a=mseries",function(a){mstats=a;a=null;var e=!0;eaccfdtstat=[0,0,0,0,0,0,0];waccfdtstat=[0,0,0,0,0,0,0];for(var d=wacmstatstot=eacmstatstot=0;d<
mstats.length;d++){var b=mstats[d];b.id.startsWith("EAC")?eacmstatstot++:wacmstatstot++;var g=parseInt(b.id.substring(5,8)),l=parseInt(b.id.substring(8,10));"E"==b.id.charAt(0)?eac2[g-eacstart][l-50]=1:wac2[g-wacstart][l-50]=1;null==a&&(a=b.chgdt.substring(0,10));a==b.chgdt.substring(0,10)?mstats[d].cdt=!1:(e=!1,mstats[d].cdt=!0,a=b.chgdt.substring(0,10));changes[b.id]=b.chgs;mseries.push(b.id);g=b.id.startsWith("EAC")?eacmstot:wacmstot;g.rec+=b.rec;g.wtd+=b.wtd;g.rfe+=b.rfe;g.rrr+=b.rrr;g.app+=b.app;
g.dnm+=b.dnm;g.chg+=""==b.chgs?0:b.chgs.split(",").length;b.eactchgs={crfe:0,cresp:0,cdnm:0,app1:0,app2:0};b.wactchgs={crfe:0,cresp:0,cdnm:0,app1:0,app2:0};g=b.id.startsWith("EAC")?b.eactchgs:b.wactchgs;if(null!=b.chgst){for(var l=b.chgst.split(","),h=0;h<l.length;h++)l[h].endsWith("7")?g.cresp++:l[h].endsWith("8")?g.cdnm++:l[h].endsWith("3")?g.crfe++:"71"==l[h]?g.app2++:l[h].endsWith("1")&&g.app1++;b.tchgs=g;b.id.startsWith("EAC");e&&(eaccfdtstat[0]+=""==b.chgs||b.id.startsWith("WAC")?0:b.chgs.split(",").length,
eaccfdtstat[1]+=b.eactchgs.crfe,eaccfdtstat[2]+=b.eactchgs.cresp,eaccfdtstat[3]+=b.eactchgs.cdnm,eaccfdtstat[4]+=b.eactchgs.app1,eaccfdtstat[5]+=b.eactchgs.app2,waccfdtstat[0]+=""==b.chgs||b.id.startsWith("EAC")?0:b.chgs.split(",").length,waccfdtstat[1]+=b.wactchgs.crfe,waccfdtstat[2]+=b.wactchgs.cresp,waccfdtstat[3]+=b.wactchgs.cdnm,waccfdtstat[4]+=b.wactchgs.app1,waccfdtstat[5]+=b.wactchgs.app2)}}msloaded=!0;$("#infoToggler").attr("src","tracker/img/refresh.png");caselist();vcaseid||(vcaseid=mseries[Math.floor(Math.random()*
mseries.length)],getvcase(vcaseid,"latest",null,!1))})}}
function caselist(){stbl=document.getElementById("seriestbl");stbl.getElementsByTagName("tr");for(var a=stbl.rows.length,e=1;e<a;e++)stbl.deleteRow(-1);for(a=0;a<seriesrange;a++){e=stbl.insertRow();e.innerHTML='<td class="cd">'+(eacstart+a)+"</td>";var f=e.insertCell();for(k=0;6>k;k++){var d=document.createElement("DIV");d.classList.add("s");d.style.backgroundColor=getMsbg("EAC19"+(eacstart+a)+(50+k));d.id="EAC19"+(eacstart+a)+(50+k);-1!=mseries.indexOf(d.id)?d.onclick=function(){getvcase(this.id,
null,null,!0)}:d.style.color="#ccc";d.innerHTML="<span>"+(50+k)+"</span>";f.appendChild(d)}e.insertAdjacentHTML("beforeend",'<td class="cd">'+(wacstart+a)+"</td>");f=e.insertCell();for(k=0;6>k;k++)d=document.createElement("DIV"),d.classList.add("s"),d.style.backgroundColor=getMsbg("WAC19"+(wacstart+a)+(50+k)),d.id="WAC19"+(wacstart+a)+(50+k),-1!=mseries.indexOf(d.id)?d.onclick=function(){getvcase(this.id,null,null,!0)}:d.style.color="#ccc",d.innerHTML="<span>"+(50+k)+"</span>",f.appendChild(d)}}
function casegrid(){var a=document.getElementById("casegrid");document.getElementById("caseheader").innerHTML='<span style="background-color: '+getMsbg(vcase.id)+';border:1px solid #888; border-radius:50%"> &nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp; <span style="font-size:20px;">'+vcase.id+"</b>&nbsp;&nbsp;</span>"+vcase.dt+' &nbsp;&nbsp;<span style="font-size:14px;" ng-hide="changes[vcase.id] == null">Update : '+timeago(vcase.chgdt)+' ago by <span style="color:#00a;">'+vcase.chguser+"</span></span> ";
for(var e=document.getElementById("tbl"),f=e.rows.length;f--;)e.deleteRow(f);f=e.insertRow();f.insertCell();for(var d=0;100>d;d++){var b=f.insertCell();b.innerText=0==d%10?""+d/10:0==d%5?"*":""}for(d=0;10>d;d++){f=e.insertRow();b=f.insertCell();b.innerText=""+d;for(var g=0;100>g;g++)b=f.insertCell(),b.id=vcase.id+d+(10>g?"0"+g:g),b.onclick=function(){history(this.id)},b.title=b.id+" "+getDetail(100*d+g),b.style.backgroundColor=getColor(100*d+g),b.style.border=getBorder(vcase.id,100*d+g)}a.appendChild(e);
f=document.getElementById("gridtotals");f.innerHTML='Received: <span style="color: blue">'+sdetail[0]+'</span>&nbsp;&nbsp;&nbsp;RFE Req Mailed: <span style="color: blue">'+sdetail[3]+'</span>&nbsp;&nbsp;&nbsp;RFE Resp Recv.: <span style="color: blue">'+sdetail[7]+'</span>&nbsp;&nbsp;&nbsp;Transferred: <span style="color: blue">'+sdetail[6]+'</span>&nbsp;&nbsp;&nbsp;Decision Notice: <span style="color: blue">'+sdetail[8]+'</span>&nbsp;&nbsp;&nbsp;Approved: <span style="color: blue">'+sdetail[1]+"</span>&nbsp;&nbsp;&nbsp;"}
clr={0:"#ee0",1:"#0c0",2:"#fa6",3:"#fbf",4:"#ace",5:"#fff",6:"#bb0",7:"#eb0",8:"#07e",9:"#a60",a:"#4f0"};echg={0:"Received",1:"Approved",2:"Rejected",3:"RFE",4:"Other",5:"Not I-129",6:"Transferred",7:"RFE Resp",8:"DNM",9:"Withdrawn",a:"RFE-Approved"};function getColor(a){c=res.length>a?res[a].charAt(0):"5";return clr[c]}
function getDetail(a){csa=res.length>a?res[a]:"5";return void 0==csa||"5"==csa?"":echg[csa.charAt(0)]+" "+parseInt(csa.charAt(1),36)+"-"+parseInt(csa.charAt(2),36)+"-"+parseInt(csa.charAt(3),36)}function getClz(a){return"c"+a}function getBorder(a,e){return-1!=(","+changes[a]+",").indexOf(","+e+",")?"2px solid #008":""}
var chgloaded=!1,imagedata=null,statnames={0:"Received",1:"Approved",2:"Rejected",3:"RFE Req",4:"Other",5:"Not Form I-129",6:"Transferred",7:"RFE resp rec",8:"Decision Notice",9:"Withdrawn",a:"RFE-Approved"};
function history(a){document.getElementById("historytitle").innerText="Case History - "+a;getHttp("/api/data/vcases18/?a=history&casenum="+a,function(a){chgloaded=!0;imgdata="data:image/png;base64,"+a;document.getElementById("historyimg").src=imgdata;document.getElementById("historytbl").style.display=""})}function getStatus(a){return statnames[a]}var res=[];
function getvcase(a,e,f,d){null!=a&&(vcaseid=a,$.getJSON("/api/data/vcases18/vcaseform?vcase="+vcaseid+(void 0==e?"":"&nav="+e+"&dt="+f),function(a){if("empty"!=a){seriesrow=null;d&&$("html, body").animate({scrollTop:$("#seriesgrid").offset().top},1E3);vcase=a;res=vcase.data.split(",");var b=[0,0,0,0,0,0,0,0,0];for(a=0;a<res.length;a++)switch(res[a].charAt(0)){case "0":b[0]++;break;case "a":b[1]++;break;case "1":b[1]++;break;case "2":b[2]++;break;case "3":b[3]++;break;case "4":b[4]++;break;case "5":b[5]++;
break;case "6":b[6]++;break;case "7":b[7]++;break;case "8":b[8]++}sdetail=b;console.log("res="+res.length);casegrid();document.getElementById("progtitle").innerHTML="Series Progress - "+vcase.id;var b=document.getElementById("schart").getContext("2d"),e=[];for(a=0;a<vcase.stats.length;a++)e.push(vcase.stats[a].dt.substring(5));var f=[];for(a=0;a<vcase.stats.length;a++)f.push(vcase.stats[a].rec);var m=[];for(a=0;a<vcase.stats.length;a++)m.push(vcase.stats[a].app);var n=[];for(a=0;a<vcase.stats.length;a++)n.push(vcase.stats[a].rfe);
var p=[];for(a=0;a<vcase.stats.length;a++)p.push(vcase.stats[a].rrr);var q=[];for(a=0;a<vcase.stats.length;a++)q.push(vcase.stats[a].dnm);new Chart(b,{type:"line",data:{labels:e,datasets:[{borderColor:window.chartColors.rec,label:"REC",data:f},{borderColor:window.chartColors.rfe,label:"RFE",data:n},{borderColor:window.chartColors.rrr,label:"RESP",data:p},{borderColor:window.chartColors.app,label:"APP",data:m},{borderColor:window.chartColors.dnm,label:"DNM",data:q}]},options:{title:{display:!1},tooltips:{mode:"index",
intersect:!1},responsive:!0,elements:{point:{radius:0}},maintainAspectRatio:!1,scales:{xAxes:[{ticks:{autoSkip:!0,maxTicksLimit:22},gridLines:{display:!1}}],yAxes:[{gridLines:{display:!0,color:"#bbb"},ticks:{beginAtZero:!0}}]}}})}}))}window.chartColors={rec:"#cc0",rfe:"#f8d",rrr:"#eca",dnm:"#09f",oth:"#8ce",app:"#0b0",trf:"#b84",wtd:"#c64"};
function timeago(a){if(void 0==a)return"";var e=a.split(" ");a=e[0].split("-");e=e[1].split(":");a=new Date(parseInt(a[0]),parseInt(a[1])-1,parseInt(a[2]),parseInt(e[0]),parseInt(e[1]),parseInt(e[2]));a.setTime(a.getTime()-6E4*a.getTimezoneOffset());a=Math.floor((new Date-a)/1E3);return 31536E3<=a?(a=Math.floor(a/31536E3),a+(1<a?" years":"year")):2592E3<=a?(a=Math.floor(a/2592E3),a+(1<a?" months":" month")):86400<=a?(a=Math.floor(a/86400),a+(1<a?" days":" day")):3600<=a?(a=Math.floor(a/3600),a+(1<
a?" hrs":" hr")):60<=a?(a=Math.floor(a/60),a+" min"):a+" sec"}function getHttp(a,e){var f=new XMLHttpRequest;f.onreadystatechange=function(){f.readyState==XMLHttpRequest.DONE&&e(f.responseText)};f.onerror=function(){console.log("There was a connection error of some sort")};f.open("GET",a,!0);f.send()};
