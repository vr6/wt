var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,d){if(d.get||d.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=d.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,d,f){if(b){d=$jscomp.global;a=a.split(".");for(f=0;f<a.length-1;f++){var c=a[f];c in d||(d[c]={});d=d[c]}a=a[a.length-1];f=d[a];b=b(f);b!=f&&null!=b&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.fill",function(a){return a?a:function(a,d,f){var b=this.length||0;0>d&&(d=Math.max(0,b+d));if(null==f||f>b)f=b;f=Number(f);0>f&&(f=Math.max(0,b+f));for(d=Number(d||0);d<f;d++)this[d]=a;return this}},"es6-impl","es3");
$jscomp.checkStringArgs=function(a,b,d){if(null==a)throw new TypeError("The 'this' value for String.prototype."+d+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+d+" must not be a regular expression");return a+""};
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(a,d){var b=$jscomp.checkStringArgs(this,a,"startsWith");a+="";for(var c=b.length,e=a.length,g=Math.max(0,Math.min(d|0,b.length)),h=0;h<e&&g<c;)if(b[g++]!=a[h++])return!1;return h>=e}},"es6-impl","es3");
$jscomp.polyfill("String.prototype.endsWith",function(a){return a?a:function(a,d){var b=$jscomp.checkStringArgs(this,a,"endsWith");a+="";void 0===d&&(d=b.length);for(var c=Math.max(0,Math.min(d|0,b.length)),e=a.length;0<e&&0<c;)if(b[--c]!=a[--e])return!1;return 0>=e}},"es6-impl","es3");msloaded=!0;changes={};mseries=[];mstats={};mstot={};cfdtstat=[];mpage=1;eacmstot={};wacmstot={};wacmstatstot=eacmstatstot=0;var eac2=[],wac2=[];eaccfdtstat=[];waccfdtstat=[];sdetail=[];seriesrow=null;
function init(){loadmseries();contribs()}function contribs(){$.getJSON("/api/data/vcases18/test?a=getadmins",function(a){for(var b=document.getElementById("contribtd"),d=0;d<a.length;d++){var f=a[d];b.insertAdjacentHTML("beforeend",'<div class="cbadge">'+f.name+' <span style="color: blue"> '+f.count+"</span></div>")}})}
function loadmseries(){if(msloaded){eacmstot={rec:0,wtd:0,rfe:0,rrr:0,app:0,dnm:0,chg:0};wacmstot={rec:0,wtd:0,rfe:0,rrr:0,app:0,dnm:0,chg:0};for(var a=0;45>a;a++)eac2[a]=Array(6).fill(0);for(a=0;45>a;a++)wac2[a]=Array(6).fill(0);msloaded=!1;$("#infoToggler").attr("src","tracker/img/refresh.gif");$.getJSON("/api/data/vcases18/test?a=mseries",function(a){mstats=a;a=null;var b=!0;eaccfdtstat=[0,0,0,0,0,0,0];waccfdtstat=[0,0,0,0,0,0,0];for(var f=wacmstatstot=eacmstatstot=0;f<mstats.length;f++){var c=
mstats[f];c.id.startsWith("EAC")?eacmstatstot++:wacmstatstot++;var e=parseInt(c.id.substring(5,8)),g=parseInt(c.id.substring(8,10));"E"==c.id.charAt(0)?eac2[e-130][g-50]=1:wac2[e-130][g-50]=1;null==a&&(a=c.chgdt.substring(0,10));a==c.chgdt.substring(0,10)?mstats[f].cdt=!1:(b=!1,mstats[f].cdt=!0,a=c.chgdt.substring(0,10));changes[c.id]=c.chgs;mseries.push(c.id);e=c.id.startsWith("EAC")?eacmstot:wacmstot;e.rec+=c.rec;e.wtd+=c.wtd;e.rfe+=c.rfe;e.rrr+=c.rrr;e.app+=c.app;e.dnm+=c.dnm;e.chg+=""==c.chgs?
0:c.chgs.split(",").length;c.eactchgs={crfe:0,cresp:0,cdnm:0,app1:0,app2:0};c.wactchgs={crfe:0,cresp:0,cdnm:0,app1:0,app2:0};e=c.id.startsWith("EAC")?c.eactchgs:c.wactchgs;if(null!=c.chgst){for(var g=c.chgst.split(","),h=0;h<g.length;h++)g[h].endsWith("7")?e.cresp++:g[h].endsWith("8")?e.cdnm++:g[h].endsWith("3")?e.crfe++:"71"==g[h]?e.app2++:g[h].endsWith("1")&&e.app1++;c.tchgs=e;c.id.startsWith("EAC");b&&(eaccfdtstat[0]+=""==c.chgs||c.id.startsWith("WAC")?0:c.chgs.split(",").length,eaccfdtstat[1]+=
c.eactchgs.crfe,eaccfdtstat[2]+=c.eactchgs.cresp,eaccfdtstat[3]+=c.eactchgs.cdnm,eaccfdtstat[4]+=c.eactchgs.app1,eaccfdtstat[5]+=c.eactchgs.app2,waccfdtstat[0]+=""==c.chgs||c.id.startsWith("EAC")?0:c.chgs.split(",").length,waccfdtstat[1]+=c.wactchgs.crfe,waccfdtstat[2]+=c.wactchgs.cresp,waccfdtstat[3]+=c.wactchgs.cdnm,waccfdtstat[4]+=c.wactchgs.app1,waccfdtstat[5]+=c.wactchgs.app2)}}msloaded=!0;$("#infoToggler").attr("src","tracker/img/refresh.png");a=document.getElementById("eactotals");a.innerHTML=
" <td rowspan=2>Totals</td> <td>EAC "+eacmstatstot+"</td> <td>"+eacmstot.rec+"</td> <td>"+eacmstot.wtd+"</td> <td>"+eacmstot.rfe+"</td> <td>"+eacmstot.rrr+"</td> <td>"+eacmstot.app+'</td> <td style="border-right: 1px solid #aaa;">'+eacmstot.dnm+'</td> <td rowspan=2 align="center">&gt;&gt;</td> <td style="background-color: #fe8">'+eaccfdtstat[0]+'</td> <td style="background-color: #fe8">'+eaccfdtstat[1]+'</td> <td style="background-color: #fe8">'+eaccfdtstat[2]+'</td> <td style="background-color: #fe8">'+
eaccfdtstat[3]+'</td> <td style="background-color: #fe8">'+eaccfdtstat[4]+'</td> <td style="background-color: #fe8">'+eaccfdtstat[5]+"</td> <td>&nbsp;</td> ";a=document.getElementById("wactotals");a.innerHTML=" <td>WAC"+wacmstatstot+"</td> <td>"+wacmstot.rec+"</td> <td>"+wacmstot.wtd+"</td> <td>"+wacmstot.rfe+"</td> <td>"+wacmstot.rrr+"</td> <td>"+wacmstot.app+'</td> <td style="border-right: 1px solid #aaa;">'+wacmstot.dnm+'</td> <td style="background-color: #fe8">'+waccfdtstat[0]+'</td> <td style="background-color: #fe8">'+
waccfdtstat[1]+'</td> <td style="background-color: #fe8">'+waccfdtstat[2]+'</td> <td style="background-color: #fe8">'+waccfdtstat[3]+'</td> <td style="background-color: #fe8">'+waccfdtstat[4]+'</td> <td style="background-color: #fe8">'+waccfdtstat[5]+"</td> <td>&nbsp;</td> ";updatesfeed(0)})}}
function updatesfeed(a){mpage+=a;1<mpage?$("#uPrev").show():$("#uPrev").hide();6>mpage?$("#uNext").show():$("#uNext").hide();$("#pagenum").text("Page "+mpage);mtbl=document.getElementById("mtbl");mtbl.getElementsByTagName("tr");a=mtbl.rows.length;for(var b=3;b<a;b++)mtbl.deleteRow(-1);for(a=30*(mpage-1);a<(mstats.length>30*mpage?30*mpage:mstats.length);a++){var b=mstats[a],d=mtbl.insertRow();d.style.backgroundColor=b.chguser.startsWith("*")?"#aff":"";d.style.borderTop=b.cdt?"3px solid #e84":"";d.innerHTML=
"<td> "+b.chguser+'</td> <td><span style="color: #66c;"> '+b.id+'</span></td> <td style="color: #880"> '+b.rec+'</td> <td style="color: #880"> '+b.wtd+'</td> <td style="color: #606"> '+b.rfe+'</td> <td style="color: #840"> '+b.rrr+'</td> <td style="color: #080"> '+b.app+'</td> <td style="border-right: 1px solid #aaa;"> '+b.dnm+"</td> <td> "+Math.round(b.nhours/24)+'</td> <td style="color: #00f"> '+(b.chgs?b.chgs.split(",").length:0)+'</td> <td style="color: #00f"> '+(b.tchgs?b.tchgs.crfe:0)+'</td> <td style="color: #00f"> '+
(b.tchgs?b.tchgs.cresp:0)+'</td> <td style="color: #00f"> '+(b.tchgs?b.tchgs.cdnm:0)+'</td> <td style="color: #00f"> '+(b.tchgs?b.tchgs.app1:0)+'</td> <td style="color: #00f"> '+(b.tchgs?b.tchgs.app2:0)+'</td> <td title =" '+b.chgdt+' GMT"> '+timeago(b.chgdt)+"</td> "}}
function timeago(a){if(void 0==a)return"";var b=a.split(" ");a=b[0].split("-");b=b[1].split(":");a=new Date(parseInt(a[0]),parseInt(a[1])-1,parseInt(a[2]),parseInt(b[0]),parseInt(b[1]),parseInt(b[2]));a.setTime(a.getTime()-6E4*a.getTimezoneOffset());a=Math.floor((new Date-a)/1E3);return 31536E3<=a?(a=Math.floor(a/31536E3),a+(1<a?" years":"year")):2592E3<=a?(a=Math.floor(a/2592E3),a+(1<a?" months":" month")):86400<=a?(a=Math.floor(a/86400),a+(1<a?" days":" day")):3600<=a?(a=Math.floor(a/3600),a+(1<
a?" hrs":" hr")):60<=a?(a=Math.floor(a/60),a+" min"):a+" sec"};
